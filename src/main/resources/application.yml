server:
  servlet:
    context-path: /currency-service
  port: 8084

logging:
  level:
    root: WARN
    com.bleurubin: TRACE

spring:
  application:
    name: currency-service

  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB

  jackson:
    default-property-inclusion: non_null
    serialization:
      indent-output: true           # Pretty print JSON
    date-format: com.fasterxml.jackson.databind.util.StdDateFormat

  datasource:
    url: jdbc:postgresql://localhost:5432/currency
    username: budget_analyzer
    password: budget_analyzer
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate  # use 'validate' or 'none' in production
    show-sql: false
    database-platform: org.hibernate.dialect.PostgreSQLDialect

currency-service:
  exchange-rate-import:
    # Cron expression for when the job runs (default: 11 PM UTC / 6 PM EST)
    cron: "0 0 23 * * ?"
    import-on-startup: true  # Set to false to disable startup import

    # FRED API configuration
    fred:
      base-url: https://fred.stlouisfed.org
      series-id: DEXTHUS

    # Retry configuration
    retry:
      # Maximum number of retry attempts (including initial attempt)
      # Example: max-attempts=3 means 1 initial + 2 retries
      max-attempts: 3

      # Delay between retries in minutes
      delay-minutes: 1
